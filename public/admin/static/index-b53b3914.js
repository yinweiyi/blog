import{u as a}from"./usePagination-07b415e6.js";import{d as e,g as t}from"./index-fe30ed03.js";import{b as n,a as l,m as r,n as i,h as o,W as s,j as p,w as d,f as c,a8 as g,o as u,z as m,i as f,A as b,l as h,a9 as v,aa as z,E as _,_ as C}from"./index-121b4ab3.js";const y={class:"app-container"},w={class:"toolbar-wrapper"},S={class:"table-wrapper"},x={class:"pager-wrapper"},A=n({name:"Administrators"}),P=C(n({...A,setup(n){const C=l(!1),{paginationData:A,handleCurrentChange:P,handleSizeChange:j}=a(),k=l([]),E=r(),D=()=>{E.push({name:"AdministratorAdd"})},F=()=>{C.value=!0,t({page:A.currentPage,pageSize:A.pageSize}).then((a=>{A.total=a.data.total,k.value=a.data.list})).catch((()=>{k.value=[]})).finally((()=>{C.value=!1}))};return i([()=>A.currentPage,()=>A.pageSize],F,{immediate:!0}),(a,t)=>{const n=c("el-button"),l=c("el-table-column"),r=c("el-popconfirm"),i=c("el-table"),I=c("el-pagination"),W=c("el-card"),q=g("loading");return u(),o("div",y,[s((u(),p(W,{shadow:"never"},{default:d((()=>[m("div",w,[m("div",null,[f(n,{type:"primary",icon:h(v),onClick:D},{default:d((()=>[b("新增管理员")])),_:1},8,["icon"])])]),m("div",S,[f(i,{data:k.value},{default:d((()=>[f(l,{prop:"id",label:"id",align:"center"}),f(l,{prop:"name",label:"用户名",align:"center"}),f(l,{prop:"account",label:"账号",align:"center"}),f(l,{prop:"last_login_ip",label:"最后登录ip",align:"center"}),f(l,{prop:"last_login_at",label:"最后登录时间",align:"center"}),f(l,{prop:"created_at",label:"创建时间",align:"center"}),f(l,{fixed:"right",label:"操作",width:"180",align:"center"},{default:d((a=>[f(n,{type:"primary",text:"",bg:"",size:"small",onClick:e=>{return t=a.row,void E.push({name:"AdministratorEdit",params:{id:t.id}});var t}},{default:d((()=>[b("编辑")])),_:2},1032,["onClick"]),f(r,{icon:h(z),"icon-color":"#626AEF",title:"真的要删除此条数据吗？",onConfirm:t=>{return n=a.row,void e(n.id).then((()=>{_.success("删除成功"),F()}));var n}},{reference:d((()=>[f(n,{type:"danger",text:"",bg:"",size:"small"},{default:d((()=>[b("删除")])),_:1})])),_:2},1032,["icon","onConfirm"])])),_:1})])),_:1},8,["data"])]),m("div",x,[f(I,{background:"",layout:h(A).layout,"page-sizes":h(A).pageSizes,total:h(A).total,"page-size":h(A).pageSize,currentPage:h(A).currentPage,onSizeChange:h(j),onCurrentChange:h(P)},null,8,["layout","page-sizes","total","page-size","currentPage","onSizeChange","onCurrentChange"])])])),_:1})),[[q,C.value]])])}}}),[["__scopeId","data-v-9f7bd682"]]);export{P as default};
